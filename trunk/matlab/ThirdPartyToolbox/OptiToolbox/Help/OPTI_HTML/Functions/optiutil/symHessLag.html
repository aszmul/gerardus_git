<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- #BeginTemplate "../../Main/Opti_Fx.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<!-- #BeginEditable "doctitle" -->
<title>symHessLag</title>
<!-- #EndEditable -->
<link href="../../Main/Opti_Styles.css" rel="stylesheet" type="text/css" />
</head>

<body>

<!-- #BeginEditable "FunctionTop" -->
<p class="CodeHeading1">symHessLag</p>
<p class="Normal">Return a symbolically generated Hessian of the Lagrangian from 
the objective and nonlinear constraint 
function handles</p>
<!-- #EndEditable -->
<table class="TableBreakLine"><tr><td></td></tr></table>
<!-- #BeginEditable "Syntax" -->
<p class="Heading2">Syntax</p>
<p class="Syntax">hess = symHessLag(obj,nlcon)</p>
<p class="Syntax">hess = symHessLag(obj,nlcon,nvar)</p>
<p class="Syntax">hess = symHessLag(obj,nlcon,nvar,isTril)</p>
<p class="Syntax">hess = symHessLag(obj,nlcon,nvar,isTril,var)</p>
<p class="Syntax">[hess,pattern] = symHessLag(fun)</p>
<p class="Syntax">[hess,pattern,symhess] = symHessLag(fun)</p>
<!-- #EndEditable -->
<table class="TableBreakLine"><tr><td></td></tr></table>
<!-- #BeginEditable "Description" -->
<p class="Heading2">Description</p>
<p class="Normal"><span class="Code">hess = symHess(obj,nlcon)</span> 
converts the 
function handles <span class="Code">obj</span><span class="Normal"> and </span>
<span class="Code">nlcon</span> into symbolic expressions, 
differentiates them using the Symbolic Toolbox command <span class="Code">Hessian</span>, 
converts them to the Hessian of the Lagrangian then converts it back to a function handle as <span class="Code">hess</span>.</p>
<p class="Normal"><span class="Code">hess = symHess(obj,nlcon,nvar)</span> 
ensures the 
correct number (<span class="Code">nvar</span>) of variables is used in the 
resulting Hessian. This is useful if your function does not include 
all indices of <span class="Code">x</span><span class="Normal">.</span></p>
<p class="Normal"><span class="Code">hess = symHess(obj,nlcon,nvar,isTril)</span> 
specifies if the returned Hessian should be Symmetric Lower Triangular.</p>
<p class="Normal"><span class="Code">hess = symHess(obj,nlcon,nvar,isTril,var)</span> 
allows a variable other than <span class="Code">'x'</span> to be parsed from the 
expression.</p>
<p class="Normal"><span class="Code">[hess,pattern] = symHess(obj,nlcon)</span> 
returns the Hessian sparsity pattern as a function handle.</p>
<p class="Normal"><span class="Code">[hess,pattern,symjac] = symHess(obj,nlcon)</span> 
also returns the intermediate symbolic expression of the Hessian.</p>
<table class="TableBreakLine"><tr><td></td></tr></table><p class="Heading2">Important Notes</p>
<p class="Normal">This function uses the Matlab Symbolic Toolbox<sup>&reg;</sup> 
thus you must have this installed to use this function. This is also a very 
basic routine thus you may wish to confirm the solution via one of the other 
differentiation routines provided.</p>
<p class="Normal">The form of your function handles must be as follows:</p>
<p class="Normal"><span class="Code">obj = @(x) x(1) + x(2);</span>&nbsp; where 
the function is only a function of <span class="Code">x</span>, and
<span class="Code">x</span> is indexed into the expression (no vectorized 
calls). </p>
<table class="TableBreakLine"><tr><td></td></tr></table><p class="Heading2">Example</p>
<p class="Code">
&gt;&gt; obj = @(x) x(1)*x(4)*(x(1) + x(2) + x(3)) + x(3);</p>
<p class="Code">
&gt;&gt; nlcon = @(x) [ x(1)*x(2)*x(3)*x(4); <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
x(1)^2 + x(2)^2 + x(3)^2 + x(4)^2 ];</p>
<p class="Code">
&gt;&gt; hess = symHessLag(obj,nlcon)<br />
<br />
hess = <br />
<br />
@(x,sigma,lambda)[[2*lambda(2)+2*sigma*x(4),0,0,0];[sigma*x(4).....</p>
<!-- #EndEditable -->

<table class="TableBreakLine"><tr><td></td></tr></table>
<p class="Copyright">Copyright © 2011-2013 Jonathan Currie (I<sup>2</sup>C<sup>2</sup>) </p>
</body>

<!-- #EndTemplate -->

</html>
